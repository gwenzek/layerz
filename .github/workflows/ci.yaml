name: Format + Test

on: push

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Install devbox
        uses: jetpack-io/devbox-install-action@v0.6.0

      - name: Run tests
        run: devbox run test

      - name: Zig format
        run: devbox run fmt_check
